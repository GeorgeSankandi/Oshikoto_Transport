<div class="row justify-content-center">
  <div class="col-lg-6 col-md-9">
    <div class="card">
        <div class="card-body p-5">
            <h2 class="text-center mb-4">Create Client Account</h2>
            <form action="/register" method="POST">
                <div class="mb-3">
                    <label for="name" class="form-label">Full Name</label>
                    <input type="text" id="name" name="name" class="form-control" value="{{name}}" required />
                </div>
                <div class="mb-3">
                    <label for="email" class="form-label">Email Address</label>
                    <input type="email" id="email" name="email" class="form-control" value="{{email}}" required />
                </div>
                
                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label for="password" class="form-label">Password</label>
                        <input type="password" id="password" name="password" class="form-control" required />
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="password2" class="form-label">Confirm Password</label>
                        <input type="password" id="password2" name="password2" class="form-control" required />
                    </div>
                </div>

                <!-- Password Requirements Notification -->
                <div class="alert alert-light border mb-4" role="alert" style="font-size: 0.9rem;">
                    <strong>Password Requirements:</strong>
                    <ul class="list-unstyled mb-0 mt-2 ps-2">
                        <li id="rule-length" class="text-muted"><i class="fas fa-circle me-2" style="font-size: 0.5rem;"></i> Minimum 8 characters</li>
                        <li id="rule-number" class="text-muted"><i class="fas fa-circle me-2" style="font-size: 0.5rem;"></i> Minimum 2 numbers</li>
                        <li id="rule-upper" class="text-muted"><i class="fas fa-circle me-2" style="font-size: 0.5rem;"></i> Minimum 1 capital letter</li>
                        <li id="rule-symbol" class="text-muted"><i class="fas fa-circle me-2" style="font-size: 0.5rem;"></i> Minimum 1 unique character (symbol)</li>
                    </ul>
                </div>

                <div class="d-grid">
                    <button type="submit" class="btn btn-primary btn-lg">Register</button>
                </div>
            </form>
            <p class="text-center mt-4 text-muted">
                Already have an account? <a href="/login">Login Here</a>
            </p>
        </div>
    </div>
  </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const passwordInput = document.getElementById('password');
    
    // Rule Elements
    const ruleLength = document.getElementById('rule-length');
    const ruleNumber = document.getElementById('rule-number');
    const ruleUpper = document.getElementById('rule-upper');
    const ruleSymbol = document.getElementById('rule-symbol');

    function updateRule(element, isValid) {
        const icon = element.querySelector('i');
        if (isValid) {
            element.classList.remove('text-muted', 'text-danger');
            element.classList.add('text-success');
            icon.classList.remove('fa-circle');
            icon.classList.add('fa-check-circle');
        } else {
            element.classList.remove('text-success');
            element.classList.add('text-muted');
            icon.classList.remove('fa-check-circle');
            icon.classList.add('fa-circle');
        }
    }

    passwordInput.addEventListener('input', function() {
        const val = passwordInput.value;

        // 1. Min 8 characters
        updateRule(ruleLength, val.length >= 8);

        // 2. Min 2 numbers
        const numCount = (val.match(/[0-9]/g) || []).length;
        updateRule(ruleNumber, numCount >= 2);

        // 3. Min 1 Capital Letter
        const upperCount = (val.match(/[A-Z]/g) || []).length;
        updateRule(ruleUpper, upperCount >= 1);

        // 4. Min 1 Unique character (Symbol) - Anything not a-z, A-Z, 0-9
        const symbolCount = (val.match(/[^a-zA-Z0-9]/g) || []).length;
        updateRule(ruleSymbol, symbolCount >= 1);
    });
});
</script>